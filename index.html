<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NetWeb 本地项目管理</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="top-bar">
        <div class="brand">
          <div class="brand-icon">NW</div>
          <div>
            <h1>NetWeb</h1>
            <p>数据网项目交付管理</p>
          </div>
        </div>
        <nav class="nav">
          <div class="nav-group">
            <button class="tab active" data-menu="project">项目管理</button>
            <div class="submenu active" data-panel="project">
              <button class="submenu-item" data-action="new-project">新建项目</button>
              <button class="submenu-item">正在进行</button>
              <button class="submenu-item">已完成</button>
            </div>
          </div>
          <div class="nav-group">
            <button class="tab" data-menu="system">系统管理</button>
            <div class="submenu" data-panel="system">
              <button class="submenu-item">基本设置</button>
              <button class="submenu-item">安全管理</button>
              <button class="submenu-item">操作日志</button>
            </div>
          </div>
        </nav>
        <div class="actions">
          <div class="action-icons">
            <button class="icon-button" aria-label="系统信息">
              <span class="icon-shell" aria-hidden="true">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                  <path
                    d="M12 4.2A7.8 7.8 0 1 0 19.8 12 7.8 7.8 0 0 0 12 4.2Zm0 4.2a.9.9 0 0 1 .9.9v3.9a.9.9 0 1 1-1.8 0V9.3a.9.9 0 0 1 .9-.9Zm0 7.4a1.1 1.1 0 1 1 1.1-1.1 1.1 1.1 0 0 1-1.1 1.1Z"
                  />
                </svg>
              </span>
            </button>
            <button class="user-button" aria-label="用户">
              <span class="icon-shell" aria-hidden="true">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                  <path
                    d="M12 12.5c2.4 0 4.4-2 4.4-4.4S14.4 3.7 12 3.7 7.6 5.7 7.6 8.1 9.6 12.5 12 12.5Zm0 2.1c-4 0-7.4 2.1-7.4 4.6 0 .7.6 1.1 1.3 1.1h12.2c.7 0 1.3-.4 1.3-1.1 0-2.5-3.4-4.6-7.4-4.6Z"
                  />
                </svg>
              </span>
              <span class="user-name">Admin</span>
            </button>
            <button class="icon-button" aria-label="明暗切换">
              <span class="icon-shell" aria-hidden="true">
                <span class="dual-tone"></span>
              </span>
            </button>
            <button class="icon-button" aria-label="主题切换">
              <span class="icon-shell" aria-hidden="true">
                <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                  <path
                    d="M12 5.2a6.8 6.8 0 1 0 0 13.6 6.8 6.8 0 0 0 0-13.6Zm0 2.2a4.6 4.6 0 0 1 0 9.2V7.4Z"
                  />
                </svg>
              </span>
            </button>
          </div>
        </div>
      </header>

      <main class="layout">
        <aside class="sidebar">
          <div class="sidebar-header">
            <h2>项目名称</h2>
          </div>
          <div class="menu">
            <button class="menu-item active" data-view="topology">站点拓扑</button>
            <button class="menu-item" data-view="scripts">脚本管理</button>
          </div>
          <button class="task-button" aria-label="任务日志">
            <span class="icon-shell" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                <path
                  d="M7 5.5h10a1.5 1.5 0 0 1 1.5 1.5v10a1.5 1.5 0 0 1-1.5 1.5H7A1.5 1.5 0 0 1 5.5 17V7A1.5 1.5 0 0 1 7 5.5Zm2.2 3.2h5.6a.7.7 0 0 0 0-1.4H9.2a.7.7 0 1 0 0 1.4Zm0 3.7h5.6a.7.7 0 0 0 0-1.4H9.2a.7.7 0 1 0 0 1.4Zm0 3.7h3.8a.7.7 0 0 0 0-1.4H9.2a.7.7 0 0 0 0 1.4Z"
                />
              </svg>
            </span>
            <span>任务日志</span>
          </button>
        </aside>

        <section class="content">
          <div class="content-header">
            <div>
              <h2>生成拓扑</h2>
              <p>选择站点模板并开始配置网络节点。</p>
            </div>
            <div class="content-actions">
              <button class="ghost">导出拓扑</button>
              <button class="primary">生成拓扑</button>
            </div>
          </div>

          <div class="canvas full">
            <div class="canvas-body">
              <div class="placeholder">
                <div class="placeholder-icon">◎</div>
                <p>主内容区域</p>
                <span>站点拓扑将在此处呈现</span>
              </div>
            </div>
          </div>

          <div class="empty-state" hidden>
            <p>无</p>
          </div>
        </section>
      </main>
    </div>

    <div class="modal-backdrop" data-modal="task-log" hidden>
      <div class="modal">
        <div class="modal-header">
          <h3>最近任务日志</h3>
          <button class="icon-button close-modal" aria-label="关闭">
            <span class="icon-shell" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                <path
                  d="M6.8 6.8a.9.9 0 0 1 1.3 0L12 10.7l3.9-3.9a.9.9 0 1 1 1.3 1.3L13.3 12l3.9 3.9a.9.9 0 1 1-1.3 1.3L12 13.3l-3.9 3.9a.9.9 0 1 1-1.3-1.3l3.9-3.9-3.9-3.9a.9.9 0 0 1 0-1.3Z"
                />
              </svg>
            </span>
          </button>
        </div>
        <ul class="log-list">
          <li>09:32 站点拓扑同步完成</li>
          <li>09:18 脚本任务执行成功</li>
          <li>09:03 设备巡检完成</li>
        </ul>
      </div>
    </div>

    <div class="modal-backdrop" data-modal="new-project" hidden>
      <div class="modal">
        <div class="modal-header">
          <h3>新建项目</h3>
          <button class="icon-button close-modal" aria-label="关闭">
            <span class="icon-shell" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
                <path
                  d="M6.8 6.8a.9.9 0 0 1 1.3 0L12 10.7l3.9-3.9a.9.9 0 1 1 1.3 1.3L13.3 12l3.9 3.9a.9.9 0 1 1-1.3 1.3L12 13.3l-3.9 3.9a.9.9 0 1 1-1.3-1.3l3.9-3.9-3.9-3.9a.9.9 0 0 1 0-1.3Z"
                />
              </svg>
            </span>
          </button>
        </div>
        <label class="field">
          <span>项目名称</span>
          <input type="text" id="project-name-input" placeholder="请输入项目名称" />
        </label>
        <button class="primary" id="save-project">创建完成</button>
      </div>
    </div>

    <script>
      const viewButtons = document.querySelectorAll(".menu-item");
      const contentHeader = document.querySelector(".content-header");
      const canvas = document.querySelector(".canvas");
      const emptyState = document.querySelector(".empty-state");

      const showEmptyState = (message = "无") => {
        contentHeader.style.display = "none";
        canvas.style.display = "none";
        emptyState.querySelector("p").textContent = message;
        emptyState.hidden = false;
      };

      const showTopology = () => {
        contentHeader.style.display = "flex";
        canvas.style.display = "flex";
        emptyState.hidden = true;
      };

      viewButtons.forEach((button) => {
        button.addEventListener("click", () => {
          viewButtons.forEach((item) => item.classList.remove("active"));
          button.classList.add("active");
          const view = button.dataset.view;
          if (view === "scripts") {
            showEmptyState();
          } else {
            showTopology();
          }
        });
      });

      const tabButtons = document.querySelectorAll(".tab");
      const navGroups = document.querySelectorAll(".nav-group");

      const openSubmenu = (group) => {
        tabButtons.forEach((item) => item.classList.remove("active"));
        document.querySelectorAll(".submenu").forEach((menu) => menu.classList.remove("active"));
        const tab = group.querySelector(".tab");
        const submenu = group.querySelector(".submenu");
        if (tab && submenu) {
          tab.classList.add("active");
          submenu.classList.add("active");
        }
      };

      const closeAllSubmenus = () => {
        document.querySelectorAll(".submenu").forEach((menu) => menu.classList.remove("active"));
      };

      navGroups.forEach((group) => {
        group.addEventListener("mouseenter", () => openSubmenu(group));
        group.addEventListener("mouseleave", () => closeAllSubmenus());
        group.querySelector(".tab").addEventListener("click", () => openSubmenu(group));
      });

      const openModal = (name) => {
        const modal = document.querySelector(`[data-modal=\"${name}\"]`);
        if (modal) {
          modal.hidden = false;
        }
      };

      const closeModal = (modal) => {
        modal.hidden = true;
      };

      document.querySelector(".task-button").addEventListener("click", () => openModal("task-log"));
      document.querySelectorAll(".submenu-item").forEach((item) => {
        if (item.dataset.action === "new-project") {
          item.addEventListener("click", () => {
            openModal("new-project");
            closeAllSubmenus();
          });
          return;
        }
        item.addEventListener("click", () => {
          document.querySelectorAll(".submenu-item").forEach((button) => {
            button.classList.remove("active");
          });
          item.classList.add("active");
          showEmptyState();
          closeAllSubmenus();
        });
      });

      document.querySelectorAll(".modal-backdrop").forEach((backdrop) => {
        backdrop.addEventListener("click", (event) => {
          if (event.target === backdrop) {
            closeModal(backdrop);
          }
        });
        backdrop.querySelectorAll(".close-modal").forEach((button) => {
          button.addEventListener("click", () => closeModal(backdrop));
        });
      });

      document.getElementById("save-project").addEventListener("click", () => {
        const input = document.getElementById("project-name-input");
        const name = input.value.trim();
        if (name) {
          document.querySelector(".sidebar-header h2").textContent = name;
          input.value = "";
          closeModal(document.querySelector('[data-modal="new-project"]'));
        }
      });
    </script>
  </body>
</html>
